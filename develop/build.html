
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Building Source Code &#8212; Avogadro 1.101.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=ee427ece" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=a9aa67f2"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'develop/build';</script>
    <link rel="canonical" href="https://two.avogadro.cc/develop/build.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Script Plugins" href="scripts/index.html" />
    <link rel="prev" title="Project Structure" href="structure.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/avogadro2.png" class="logo__image only-light" alt="Avogadro Documentation- Home"/>
    <script>document.write(`<img src="../_static/avogadro2-dark.png" class="logo__image only-dark" alt="Avogadro Documentation- Home"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../install/index.html">
    Install
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../docs/index.html">
    Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Develop
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../contrib/index.html">
    Contribute
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../teach/index.html">
    Teach
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://discuss.avogadro.cc">
    Discuss
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/openchemistry/avogadrolibs" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://bsky.app/profile/avogadro.cc" title="Bluesky" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-bluesky fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Bluesky</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://fosstodon.org/@avogadrochem" title="Mastodon" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-mastodon fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Mastodon</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../install/index.html">
    Install
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../docs/index.html">
    Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Develop
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../contrib/index.html">
    Contribute
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../teach/index.html">
    Teach
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://discuss.avogadro.cc">
    Discuss
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/openchemistry/avogadrolibs" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://bsky.app/profile/avogadro.cc" title="Bluesky" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-bluesky fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Bluesky</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://fosstodon.org/@avogadrochem" title="Mastodon" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-mastodon fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Mastodon</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">Develop</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="structure.html">Project Structure</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Building Source Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="scripts/index.html">Script Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="rpc.html">Avogadro Remote Procedure Call (RPC)</a></li>
<li class="toctree-l1"><a class="reference internal" href="classlist.html">API Documentation</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Develop</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Building Source Code</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="building-source-code">
<span id="develop-build"></span><h1>Building Source Code<a class="headerlink" href="#building-source-code" title="Link to this heading">#</a></h1>
<p>This guide has been updated to include detailed instructions for compiling Avogadro on each major operating system and has been verified to work for the 2.0 release on all of them.</p>
<p>However, Avogadro is a large project with many pieces, resulting in a somewhat complex build process that also varies from platform to platform.
If you encounter difficulties you are encouraged to reach out on the <a class="reference external" href="https://discuss.avogadro.cc">forum</a> for help.</p>
<p>The Avogadro desktop application brings together several of the Open Chemistry subprojects (see <a class="reference internal" href="structure.html#develop-structure"><span class="std std-ref">Project Structure</span></a>).
The easiest way to build Avogadro is to use the <a class="reference external" href="https://github.com/OpenChemistry/openchemistry">openchemistry
repository</a> as a basis, as it will automatically download and build many of the dependencies (including third-party ones) for you.</p>
<p>It is also entirely possible to build each project individually without using the “superbuild” approach, but you will need to ensure all dependencies are built and can be found by the project.</p>
<p>For simplicity, this guide will focus on the first approach.</p>
<p>The instructions in this guide assume that you know how to execute commands in a terminal.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Platform-specific instructions, guidance, and information is provided in expandable callouts marked by the respective icons <span class="fab fa-windows"></span> <span class="fab fa-apple"></span> <span class="fab fa-linux"></span>.</p>
</div>
<div class="dropdown admonition">
<p class="admonition-title">Windows <span class="fab fa-windows"></span></p>
<p>For steps that require using the command line in a terminal, we recommend using Powershell 7 within Microsoft Terminal, which should be installed on your system already if you are using Windows 11 – if not, you can get it from the <a class="reference external" href="https://apps.microsoft.com/detail/9n0dx20hk701?ocid=webpdpshare">Microsoft Store</a>.</p>
<p>In recent versions of Powershell, Linux/macOS commands like <code class="docutils literal notranslate"><span class="pre">cd</span></code> are aliased to their Powershell equivalents, so all of the commands that you are instructed to carry out here should work fine.</p>
</div>
<section id="system">
<h2>System<a class="headerlink" href="#system" title="Link to this heading">#</a></h2>
<p>Only 64-bit operating systems are supported.</p>
<p>The primary supported operating systems are those for which binaries are distributed:</p>
<ul class="simple">
<li><p>Windows 10+ (<code class="docutils literal notranslate"><span class="pre">x64</span></code> only)</p></li>
<li><p>macOS (Intel and Apple Silicon)</p></li>
<li><p>Linux (<code class="docutils literal notranslate"><span class="pre">x64</span></code> only)</p></li>
</ul>
<p>Others may work, but this guide will not cover them.</p>
<div class="dropdown admonition">
<p class="admonition-title">Windows on ARM <span class="fab fa-windows"></span></p>
<p>Windows on ARM will be fully supported by Qt from around Qt 6.8 onwards, so it is likely that Avogadro will likewise support ARM once the port to Qt6 is complete.</p>
</div>
</section>
<section id="dependencies-and-prerequisites">
<h2>Dependencies and prerequisites<a class="headerlink" href="#dependencies-and-prerequisites" title="Link to this heading">#</a></h2>
<div class="dropdown admonition">
<p class="admonition-title">Windows <span class="fab fa-windows"></span></p>
<p>All the software listed here can of course be obtained in the traditional way by downloading from the respective websites, which are generally linked, and running an installer.</p>
<p>Alternatively, much of it can these days be obtained from the Windows Package Manager using <a class="reference external" href="https://learn.microsoft.com/en-us/windows/package-manager/winget/"><code class="docutils literal notranslate"><span class="pre">winget</span></code></a>.</p>
<p>The third-party <a class="reference external" href="https://winget.run/">winget.run</a> can be a helpful site to see whether a package is available in this way.</p>
</div>
<div class="dropdown admonition">
<p class="admonition-title">macOS <span class="fab fa-apple"></span></p>
<p>The <a class="reference external" href="https://brew.sh/">Homebrew</a> package manager works well for getting development software on macOS.</p>
</div>
<div class="dropdown admonition">
<p class="admonition-title">Linux <span class="fab fa-linux"></span></p>
<p>On Linux, all of the necessary (non-Open-Chemistry) software is almost certainly available via your distribution’s package manager.</p>
<p>A notable exception to this is Open Babel, which as of the time of writing (September 2024) is generally only available from distro repos as version 3.3.1, whereas Avogadro requires a patched version incorporating many CJSON-related changes over the past few years.</p>
<p>The easiest thing is just to let the build process automatically download and compile Open Babel for you (the default behavior).
If you particularly wish to use Open Babel from your system, you will have to have compiled it from <a class="reference external" href="https://github.com/openbabel/openbabel">source</a> yourself.</p>
</div>
<section id="development-tools">
<h3>Development tools<a class="headerlink" href="#development-tools" title="Link to this heading">#</a></h3>
<p>The Open Chemistry project uses <a class="reference external" href="https://git-scm.com/">Git</a> for version control, so the first step is to ensure that you have it installed and set up on your system.</p>
</section>
<section id="compiler-and-build-system">
<h3>Compiler and build system<a class="headerlink" href="#compiler-and-build-system" title="Link to this heading">#</a></h3>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For those unfamiliar with compiling programs from source, or C++ ones in particular, building a modern C++ program typically uses three critical components:</p>
<ul class="simple">
<li><p>a compiler, which turns source code files into “object” files containing machine code</p></li>
<li><p>a build tool, which automates the compilation and makes sure all compiler commands are run in the right order</p></li>
<li><p>a build-system generator, which creates configuration files for a build tool based on a set of instructions; this makes building complex projects on multiple platforms with potentially different build tools and compilers much easier</p></li>
</ul>
</div>
<p>Broadly, you will need a C/C++ compiler that supports C++17, a build tool such as <a class="reference external" href="https://ninja-build.org/">Ninja</a>, and <a class="reference internal" href="#cmake.org"><span class="xref myst">CMake</span></a>.</p>
<div class="dropdown admonition">
<p class="admonition-title">Windows <span class="fab fa-windows"></span></p>
<p>On Windows, the MSVC compiler is best supported, which is obtained as part of <a class="reference external" href="https://visualstudio.microsoft.com/">Visual Studio</a>.</p>
<p>If, when installing Qt (see below), you choose to install “Developer and Designer Tools”, this will install Ninja and CMake at the same time.
Otherwise, you will need to download and install them separately.</p>
<p>CMake can also be installed using <code class="docutils literal notranslate"><span class="pre">winget</span> <span class="pre">install</span> <span class="pre">--exact</span> <span class="pre">--id</span> <span class="pre">Kitware.CMake</span></code>.</p>
</div>
<div class="dropdown admonition">
<p class="admonition-title">macOS <span class="fab fa-apple"></span></p>
<p>We recommend to use <a class="reference external" href="https://clang.llvm.org/">Clang 17</a> on a Mac, with Ninja and CMake.</p>
</div>
<div class="dropdown admonition">
<p class="admonition-title">Linux <span class="fab fa-linux"></span></p>
<p>Both <code class="docutils literal notranslate"><span class="pre">gcc</span></code>/<code class="docutils literal notranslate"><span class="pre">g++</span></code> and <code class="docutils literal notranslate"><span class="pre">clang</span></code>/<code class="docutils literal notranslate"><span class="pre">clang++</span></code> generally work fine, as do both Unix Makefiles and Ninja.</p>
<p>If you find you have problems compiling, stick to the combination of <strong>gcc with Ninja</strong>; this is what the automatic preparation of Avogadro binaries with GitHub actions uses, so if it is working successfully there, it should also work for you.</p>
</div>
</section>
<section id="python-and-perl">
<h3>Python and Perl<a class="headerlink" href="#python-and-perl" title="Link to this heading">#</a></h3>
<p>To compile Avogadro you will need to have both Python and Perl on your system.</p>
<p>It is important that Python is in the PATH so that Avogadro can find it.</p>
<div class="dropdown admonition">
<p class="admonition-title">Windows <span class="fab fa-windows"></span></p>
<p>A Python interpreter can be downloaded and installed from <a class="reference external" href="https://www.python.org/downloads/windows/">python.org</a>.
The option to add to the PATH is offered at install time, so make sure to check this.</p>
<p>The best way to get Perl on Windows is the <a class="reference external" href="https://strawberryperl.com/">Strawberry Perl</a> distribution.</p>
</div>
</section>
<section id="libraries">
<h3>Libraries<a class="headerlink" href="#libraries" title="Link to this heading">#</a></h3>
<section id="qt">
<h4>Qt<a class="headerlink" href="#qt" title="Link to this heading">#</a></h4>
<p>Avogadro is built using the open-source <a class="reference external" href="https://www.qt.io/download-open-source">Qt framework</a>.</p>
<p>Avogadro is in the process of moving to Qt6, which will be hopefully complete by the release of Avogadro 2.0 – see <a class="reference external" href="https://discuss.avogadro.cc/t/qt6-tracking-thread/5592">the forum tracking thread</a> for progress.
For now though, you will probably need to obtain Qt5.</p>
<div class="dropdown admonition">
<p class="admonition-title">Windows <span class="fab fa-windows"></span></p>
<p>On Windows you should download and install Qt from the Qt website.</p>
<p>Be sure to make a note of the install directory of Qt (e.g. <code class="docutils literal notranslate"><span class="pre">C:/Qt/5.15.2/msvc2019_64/lib/cmake/Qt5</span></code>) as it will be of importance later.</p>
</div>
<div class="dropdown admonition">
<p class="admonition-title">Linux <span class="fab fa-linux"></span></p>
<p>Qt is widely used in the open-source community, including as the base for the KDE Plasma desktop environment, so it is generally either already installed (though not necessarily including the development libraries that you need) or easily available from package managers.</p>
<p>Qt is large, so on Linux distributions it is often broken up into its modules.
Unfortunately, the names of the packages for the modules varies from distro to distro, such that it is hard to say exactly which packages you should install.</p>
<p>You should however make sure the following Qt modules are installed:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">QtCore</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QtWidgets</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QtGui</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QtOpenGL</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QtOpenGLWidgets</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QtConcurrent</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QtNetwork</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QtSvg</span></code></p></li>
</ul>
<p>There are often separate <code class="docutils literal notranslate"><span class="pre">-devel</span></code> versions of each module as well, in which case, you will also need those.</p>
</div>
</section>
<section id="other-libraries">
<h4>Other libraries<a class="headerlink" href="#other-libraries" title="Link to this heading">#</a></h4>
<section id="necessary">
<h5>Necessary<a class="headerlink" href="#necessary" title="Link to this heading">#</a></h5>
<div class="dropdown admonition">
<p class="admonition-title">Windows <span class="fab fa-windows"></span></p>
<p>The main other library you will need to get is OpenSSL 3.3.2, either from the <a class="reference external" href="https://slproweb.com/products/Win32OpenSSL.html">Shining Light Productions website</a> or using <code class="docutils literal notranslate"><span class="pre">winget</span> <span class="pre">install</span> <span class="pre">--exact</span> <span class="pre">--id</span> <span class="pre">ShiningLight.OpenSSL.Dev</span></code></p>
</div>
<div class="dropdown admonition">
<p class="admonition-title">Linux <span class="fab fa-linux"></span></p>
<p>You will need to install the following from your package manager, or similarly named equivalents:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">glu-devel</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">libxml2-devel</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xz-devel</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">readline-devel</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rapidjson-devel</span></code></p></li>
</ul>
<p>You will also need <code class="docutils literal notranslate"><span class="pre">libopenssl</span></code> – either v1.1 if are building with Qt 5, or &gt;3.0 if you are building with Qt 6.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>For a successful build of Open Babel and therefore a successful build of Avogadro, the <code class="docutils literal notranslate"><span class="pre">rapidjson</span></code> version used cannot be the v1.1.0 release; it must have been patched to include at least <a class="reference external" href="https://github.com/Tencent/rapidjson/pull/719">this patch</a> from 2016.
Your distro probably distributes a version including this patch, but if you have problems with the Open Babel build step, this may be why.</p>
</div>
</div>
<div class="docutils">
<p class="rubric" id="optional"><span id="system-deps"></span>Optional</p>
<p>Many dependencies that Avogadro needs will be automatically downloaded and built during the build process.
This means you do not need to install them in advance, and versions will be used that the Avogadro team has determined are compatible.</p>
<p>However, if you would prefer to use versions of these libraries that are installed on your system, you can build Avogadro with CMake flags of the style <code class="docutils literal notranslate"><span class="pre">-DUSE_SYSTEM_EIGEN</span></code>.
For some of them it is also possible to do without them altogether by telling Avogadro to build without the features that require it.</p>
<p>This list includes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">glew</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eigen</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OpenBabel</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">spglib</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">libarchive</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">msgpackc</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mmtf-cpp</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">libmsym</span></code></p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If these libraries are not available on your machine, internet access will be required during the build step.</p>
<p>See <a class="reference internal" href="#building-offline"><span class="std std-ref">Building offline</span></a> for assistance in circumventing the need for an internet connection.</p>
</div>
</div>
</section>
</section>
</section>
</section>
<section id="getting-the-source-code">
<span id="cloning-repositories"></span><h2>Getting the source code<a class="headerlink" href="#getting-the-source-code" title="Link to this heading">#</a></h2>
<p>All further instructions will assume you are using <code class="docutils literal notranslate"><span class="pre">git</span></code> on the command line.</p>
<p>As mentioned above, by far the easiest way to build Avogadro is to use the Open Chemistry repository as a basis, which contains the other projects as submodules.
Though building each submodule separately is possible, this “superbuild” approach is the only option we explicitly recommend and support.</p>
<p>The submodules of the main repo can be cloned all in one go, or manually for finer control over which ones are downloaded.</p>
<section id="recursive-clone">
<h3>Recursive clone<a class="headerlink" href="#recursive-clone" title="Link to this heading">#</a></h3>
<p>You can clone the main repo and all submodules automatically using:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>--recursive<span class="w"> </span>https://github.com/OpenChemistry/openchemistry.git
git<span class="w"> </span>submodule<span class="w"> </span>update<span class="w"> </span>--init<span class="w"> </span>--recursive
</pre></div>
</div>
<p>You can then later easily update all modules at once using:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>submodule<span class="w"> </span>update<span class="w"> </span>--remote
</pre></div>
</div>
<p>See the <a class="reference external" href="https://git-scm.com/book/en/v2/Git-Tools-Submodules">git submodule documentation</a> for further help.</p>
</section>
<section id="manual-clone">
<h3>Manual clone<a class="headerlink" href="#manual-clone" title="Link to this heading">#</a></h3>
<p>You may prefer to only clone some of the submodules, or you may encounter problems with the recursive clone.
In this case, you are still recommended to clone the main repo, but take the following manual approach instead:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/OpenChemistry/openchemistry.git
<span class="nb">cd</span><span class="w"> </span>openchemistry
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/OpenChemistry/avogadrolibs.git
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/OpenChemistry/avogadroapp.git
</pre></div>
</div>
<p>This will overwrite each git submodule with a new normal git repository, and can be continued for as many submodules as desired.</p>
<section id="required-and-optional-submodules">
<h4>Required and optional submodules<a class="headerlink" href="#required-and-optional-submodules" title="Link to this heading">#</a></h4>
<p>To build the Avogadro desktop program, only the main Open Chemistry repo and the following submodules are strictly required:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">avogadrolibs</span></code> from <a class="github reference external" href="https://github.com/OpenChemistry/avogadrolibs.git">OpenChemistry/avogadrolibs.git</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">avogadroapp</span></code> from <a class="github reference external" href="https://github.com/OpenChemistry/avogadroapp.git">OpenChemistry/avogadroapp.git</a></p></li>
</ul>
<p>The following submodules are optional and add extra functionality to Avogadro:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">avogadro-i18n</span></code>, for languages other than US English, from <a class="github reference external" href="https://github.com/OpenChemistry/avogadro-i18n.git">OpenChemistry/avogadro-i18n.git</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">avogadrogenerators</span></code>, for generation of input files for computational packages, from <a class="github reference external" href="https://github.com/OpenChemistry/avogenerators.git">OpenChemistry/avogenerators.git</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">crystals</span></code>, <code class="docutils literal notranslate"><span class="pre">fragments</span></code> and <code class="docutils literal notranslate"><span class="pre">molecules</span></code>, which populate the libraries of ready-to-use structures, from <a class="github reference external" href="https://github.com/OpenChemistry/crystals.git">OpenChemistry/crystals.git</a>, <a class="github reference external" href="https://github.com/OpenChemistry/fragments.git">OpenChemistry/fragments.git</a>, and <a class="github reference external" href="https://github.com/OpenChemistry/molecules.git">OpenChemistry/molecules.git</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">avogadrodata</span></code>, which contains only a few files for testing, from <a class="github reference external" href="https://github.com/OpenChemistry/avogadrodata.git">OpenChemistry/avogadrodata.git</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">molequeue</span></code>, which lets you queue computational calculations from Avogadro, but is currently unmaintained, from <a class="github reference external" href="https://github.com/OpenChemistry/molequeue.git">OpenChemistry/molequeue.git</a></p></li>
</ul>
<p>More information on the contents of each can be found at <a class="reference internal" href="structure.html#develop-structure"><span class="std std-ref">Project Structure</span></a>.</p>
</section>
</section>
</section>
<section id="building-avogadro">
<h2>Building Avogadro<a class="headerlink" href="#building-avogadro" title="Link to this heading">#</a></h2>
<p>The Open Chemistry project uses CMake to direct builds, so builds are configured and started using the <code class="docutils literal notranslate"><span class="pre">cmake</span></code> command.
This is done in two individual steps.</p>
<p>Again, the following instructions assume you are using the “superbuild” approach.</p>
<section id="configuring-cmake">
<span id="configuring-build"></span><h3>Configuring CMake<a class="headerlink" href="#configuring-cmake" title="Link to this heading">#</a></h3>
<p>It is recommended that you create the build tree outside of the source tree.</p>
<p>To set up the build tree, first navigate to the directory containing the cloned <code class="docutils literal notranslate"><span class="pre">openchemistry</span></code> repository, then run the following command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>cmake<span class="w"> </span>-DQT_VERSION<span class="o">=</span><span class="m">5</span><span class="w"> </span>-DBUILD_MOLEQUEUE<span class="o">=</span>OFF<span class="w"> </span>-S<span class="w"> </span>./openchemistry<span class="w"> </span>-B<span class="w"> </span>./build
</pre></div>
</div>
<p>This will create a new directory, <code class="docutils literal notranslate"><span class="pre">build</span></code>, in the current directory next to <code class="docutils literal notranslate"><span class="pre">openchemistry</span></code>, then construct the build tree within it.</p>
<p>To configure the build to build against Qt 6, use <code class="docutils literal notranslate"><span class="pre">-DQT_VERSION=6</span></code> instead.</p>
<p>To use a different compiler (such as <code class="docutils literal notranslate"><span class="pre">clang</span></code> on Linux when the default is <code class="docutils literal notranslate"><span class="pre">gcc</span></code>), add the flags <code class="docutils literal notranslate"><span class="pre">-DCMAKE_C_COMPILER=clang</span> <span class="pre">-DCMAKE_CXX_COMPILER=clang++</span></code>.</p>
<p>To use a different build tool than whatever the default is on your system, add e.g. <code class="docutils literal notranslate"><span class="pre">-G</span> <span class="pre">Ninja</span></code>.</p>
<div class="dropdown admonition">
<p class="admonition-title">Windows <span class="fab fa-windows"></span></p>
<p>On Windows you may need to run with any or all of the following flags, with the paths adjusted as appropriate:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>cmake<span class="w"> </span>-DQT_VERSION<span class="o">=</span><span class="m">5</span><span class="w"> </span>-DBUILD_MOLEQUEUE<span class="o">=</span>OFF<span class="w"> </span>-DQt5_DIR<span class="o">=</span>C:/Qt/5.15.2/msvc2019_64/lib/cmake/Qt5<span class="w"> </span>-DCMAKE_TOOLCHAIN_FILE<span class="o">=</span>C:/Qt/5.15.2/msvc2019_64/lib/cmake/Qt5/Qt5Config.cmake<span class="w"> </span>-S<span class="w"> </span>./openchemistry<span class="w"> </span>-B<span class="w"> </span>./build
</pre></div>
</div>
<p>or if building against Qt 6:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>cmake<span class="w"> </span>-DQT_VERSION<span class="o">=</span><span class="m">6</span><span class="w"> </span>-DBUILD_MOLEQUEUE<span class="o">=</span>OFF<span class="w"> </span>-DQt6_DIR<span class="o">=</span>C:/Qt/6.8.0/msvc2022_64/lib/cmake/Qt6<span class="w"> </span>-DCMAKE_TOOLCHAIN_FILE<span class="o">=</span>C:/Qt/6.8.0/msvc2022_64/lib/cmake/Qt6/Qt6Config.cmake<span class="w"> </span>-DCMAKE_PREFIX_PATH<span class="o">=</span><span class="s2">&quot;C:/Qt/6.8.0/msvc2022_64/lib/cmake/Qt6;C:/Qt/6.8.0/msvc2022_64/lib/cmake&quot;</span><span class="w"> </span>-DQT_ADDITIONAL_PACKAGES_PREFIX_PATH<span class="o">=</span>C:/Qt/6.8.0/msvc2022_64<span class="w"> </span>-S<span class="w"> </span>./openchemistry<span class="w"> </span>-B<span class="w"> </span>./build
</pre></div>
</div>
</div>
<section id="build-types">
<span id="id1"></span><h4>Build types<a class="headerlink" href="#build-types" title="Link to this heading">#</a></h4>
<p>By default, Avogadro will be built in “Debug” mode, which, as the name hints, makes it easier to track down bugs, but at the cost of an increased package size and less optimized (read: slower) code in comparison to “Release” mode.</p>
<p>To change the build type used, use the corresponding flag for <code class="docutils literal notranslate"><span class="pre">cmake</span></code> during the configuration step, e.g.:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>cmake<span class="w"> </span>-DQT_VERSION<span class="o">=</span><span class="m">5</span><span class="w"> </span>-DBUILD_MOLEQUEUE<span class="o">=</span>OFF<span class="w"> </span>-DCMAKE_BUILD_TYPE<span class="o">=</span>Release<span class="w"> </span>-S<span class="w"> </span>./openchemistry<span class="w"> </span>-B<span class="w"> </span>./build
</pre></div>
</div>
<p>Possible build types for Avogadro are “Debug”, “Release”, “MinSizeRel” and “RelWithDebInfo”.</p>
<div class="dropdown admonition">
<p class="admonition-title">Windows <span class="fab fa-windows"></span></p>
<p>On Windows the build type cannot be set in this way and must instead be indicated during the <a class="reference internal" href="#running-build"><span class="std std-ref">build step</span></a> by e.g.:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>cmake<span class="w"> </span>--build<span class="w"> </span>./build<span class="w"> </span>--config<span class="w"> </span>Release
</pre></div>
</div>
</div>
</section>
<section id="avogadro-specific-cmake-flags">
<h4>Avogadro-specific CMake flags<a class="headerlink" href="#avogadro-specific-cmake-flags" title="Link to this heading">#</a></h4>
<p>Avogadro’s build process can be configured in a variety of ways by passing extra flags to the above <code class="docutils literal notranslate"><span class="pre">cmake</span></code> command.
In particular this is a good way to add extra functionality or to keep the build slim.
Here is a <em>non-exhaustive</em> list of some useful ones, with a short explanation and the default.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BUILD_SHARED_LIBS</span> <span class="s2">&quot;Build with shared libraries&quot;</span> <span class="n">ON</span>
<span class="n">DOWNLOAD_TO_SOURCE_DIR</span> <span class="s2">&quot;Download external dependency source archives to CMAKE_CURRENT_SOURCE_DIR/Downloads&quot;</span> <span class="n">OFF</span>
<span class="n">DOWNLOAD_TO_BINARY_DIR</span> <span class="s2">&quot;Download external dependency source archives to CMAKE_CURRENT_BINARY_DIR/Downloads&quot;</span> <span class="n">ON</span>
<span class="c1"># If both the above are set to `ON` then the SOURCE directory will be used</span>
<span class="c1"># If both the above are set to `OFF` then the user&#39;s personal Downloads folder will be used</span>
<span class="n">USE_VTK</span> <span class="s2">&quot;Enable libraries that use VTK in Avogadro&quot;</span> <span class="n">OFF</span>
<span class="n">USE_HDF5</span> <span class="s2">&quot;Enable functionality that requires HDF5&quot;</span> <span class="n">OFF</span>
<span class="n">USE_PYTHON</span> <span class="s2">&quot;Enable functionality that requires Python&quot;</span> <span class="n">OFF</span>
<span class="n">USE_YAEHMOP</span> <span class="s2">&quot;Enable functionality that requires Yaehmop&quot;</span> <span class="n">OFF</span>
<span class="n">USE_SYSTEM_</span><span class="p">{</span><span class="n">Dependency</span><span class="p">}</span> <span class="s2">&quot;Use a system installation of </span><span class="si">{Dependency}</span><span class="s2">&quot;</span> <span class="n">OFF</span>
<span class="n">BUILD_MOLEQUEUE</span> <span class="s2">&quot;Build the MoleQueue application&quot;</span> <span class="c1"># Default depends on the Qt version</span>
<span class="n">BUILD_AVOGADRO</span> <span class="s2">&quot;Build the Avogadro 2 application&quot;</span> <span class="n">ON</span>
<span class="n">BUILD_GPL_PLUGINS</span> <span class="s2">&quot;Build GPL plugins, i.e. QTAIM in Avogadro&quot;</span> <span class="n">OFF</span>
<span class="n">BUILD_DOCUMENTATION</span> <span class="s2">&quot;Build documentation (Doxygen)&quot;</span> <span class="n">OFF</span>
<span class="n">ENABLE_TESTING</span> <span class="s2">&quot;Enable testing for Open Chemistry projects&quot;</span> <span class="n">OFF</span>
</pre></div>
</div>
<p>To use them, prefix them with <code class="docutils literal notranslate"><span class="pre">-D</span></code>.
For example, to build with the VTK functionality and the automatically generated API documentation, you might run:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>cmake<span class="w"> </span>-DQT_VERSION<span class="o">=</span><span class="m">6</span><span class="w"> </span>-DBUILD_MOLEQUEUE<span class="o">=</span>OFF<span class="w"> </span>-DUSE_VTK<span class="o">=</span>ON<span class="w"> </span>-DBUILD_DOCUMENTATION<span class="o">=</span>ON<span class="w"> </span>-S<span class="w"> </span>./openchemistry<span class="w"> </span>-B<span class="w"> </span>./build
</pre></div>
</div>
<p>The following should, when used, also be passed on to <code class="docutils literal notranslate"><span class="pre">avogadrolibs</span></code> to configure its build.
If the desktop application is being built, they are not particularly useful.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">USE_OPENGL</span> <span class="s2">&quot;Enable libraries that use OpenGL&quot;</span> <span class="n">ON</span>
<span class="n">USE_LIBARCHIVE</span> <span class="s2">&quot;Enable optional Libarchive features&quot;</span> <span class="n">ON</span>
<span class="n">USE_LIBMSYM</span> <span class="s2">&quot;Enable optional features using libmsym&quot;</span> <span class="n">ON</span>
<span class="n">USE_SPGLIB</span> <span class="s2">&quot;Enable optional features using spglib&quot;</span> <span class="n">ON</span>
<span class="n">USE_MMTF</span> <span class="s2">&quot;Enable optional features using mmtf&quot;</span> <span class="n">ON</span>
</pre></div>
</div>
<p>Likewise, the following should be passed on to <code class="docutils literal notranslate"><span class="pre">avogadroapp</span></code> when given.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Avogadro_ENABLE_RPC</span> <span class="s2">&quot;Enable RPC server&quot;</span> <span class="n">ON</span>
</pre></div>
</div>
<p>For all available flags, see the <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> file in the top level of each project.</p>
</section>
</section>
<section id="building-offline">
<span id="id2"></span><h3>Building offline<a class="headerlink" href="#building-offline" title="Link to this heading">#</a></h3>
<p>In some situations it may not be possible or desirable to have the build process download the source code for the third-party dependencies during the build itself.</p>
<p>One way to do this is to download the source code manually in advance and place the <strong>compressed archives</strong> in the <em>source</em> directory under <code class="docutils literal notranslate"><span class="pre">openchemistry/Downloads</span></code>.
This needs to be done for all the dependencies listed as <a class="reference internal" href="#system-deps"><span class="std std-ref">optional dependencies</span></a>.</p>
<p>Then, when running the above <code class="docutils literal notranslate"><span class="pre">cmake</span></code> configure step, pass <code class="docutils literal notranslate"><span class="pre">-DDOWNLOAD_TO_SOURCE_DIR=ON</span></code> as one of the flags.</p>
<p>For this to work, you need to download the exact versions specified in <code class="docutils literal notranslate"><span class="pre">openchemistry/cmake/projects.cmake</span></code>, in the archive format expected.</p>
<p>The alternative is to turn off the use of each of these dependencies (see above for the necessary flags).</p>
</section>
<section id="starting-the-build">
<span id="running-build"></span><h3>Starting the build<a class="headerlink" href="#starting-the-build" title="Link to this heading">#</a></h3>
<p>Once everything is configured, actually building is a simple matter of running:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>cmake<span class="w"> </span>--build<span class="w"> </span>./build
</pre></div>
</div>
<div class="dropdown admonition">
<p class="admonition-title">Windows <span class="fab fa-windows"></span></p>
<p>On Windows you may wish to build a better optimized version of the program by running the build instead with:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>cmake<span class="w"> </span>--build<span class="w"> </span>./build<span class="w"> </span>--config<span class="w"> </span>Release
</pre></div>
</div>
<p>See <a class="reference internal" href="#build-types"><span class="std std-ref">Build types</span></a> for more information.</p>
</div>
<div class="dropdown admonition">
<p class="admonition-title">Linux <span class="fab fa-linux"></span></p>
<p>If you used Ninja by passing <code class="docutils literal notranslate"><span class="pre">-G</span> <span class="pre">Ninja</span></code> in the configuration step, the build will automatically run in parallel.</p>
<p>If you are using the default GNU Makefiles instead, the build will by default only use a single thread; to run in parallel use:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>cmake<span class="w"> </span>--build<span class="w"> </span>./build<span class="w"> </span>-j<span class="w"> </span><span class="m">4</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">4</span></code> is replaced by the number of threads you wish to use.
This results in significant speed-ups (roughly n times faster in the author’s brief tests!).</p>
</div>
</section>
</section>
<section id="layout-of-the-build-directory">
<span id="build-tree-layout"></span><h2>Layout of the build directory<a class="headerlink" href="#layout-of-the-build-directory" title="Link to this heading">#</a></h2>
<p>Each submodule and project will initially be built within its own directories within the build directory, mirroring the source tree.</p>
<p>When using the “superbuild” strategy detailed here, all compiled libraries, objects, and binaries, as well as all supporting resources such as icons and metadata, are additionally installed to the <code class="docutils literal notranslate"><span class="pre">prefix</span></code> directory within the build directory, so that everything can be found in one convenient location.</p>
<p><code class="docutils literal notranslate"><span class="pre">prefix</span></code> contains the normal <code class="docutils literal notranslate"><span class="pre">include</span></code>, <code class="docutils literal notranslate"><span class="pre">bin</span></code>, <code class="docutils literal notranslate"><span class="pre">share</span></code> and <code class="docutils literal notranslate"><span class="pre">lib</span></code> subdirectories.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>This can be used to inject an additional prefix in <code class="docutils literal notranslate"><span class="pre">CMAKE_PREFIX_PATH</span></code> to ensure that projects built by the superbuild are found by each other.</p>
<p>It keeps the sub-projects relatively simple as they either find stuff in the prefix, or normal system paths.</p>
</div>
</section>
<section id="running-executables">
<span id="id3"></span><h2>Running executables<a class="headerlink" href="#running-executables" title="Link to this heading">#</a></h2>
<p>It is recommended that you run the binaries from within the <code class="docutils literal notranslate"><span class="pre">prefix</span></code> directory in the build directory, e.g.:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>./build/prefix/bin/avogadro2
</pre></div>
</div>
<p>or on Windows:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>./build/prefix/bin/avogadro2.exe
</pre></div>
</div>
<p>On Mac on the other hand it might be:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>open<span class="w"> </span>/Users/your-user/openchemistry-build/avogadroapp/bin/Avogadro2.app
</pre></div>
</div>
<div class="dropdown admonition">
<p class="admonition-title">macOS <span class="fab fa-apple"></span></p>
<p>Note that on macOS running on Apple Silicon, you must sign all binaries before opening:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>codesign<span class="w"> </span>--force<span class="w"> </span>--deep<span class="w"> </span>-s<span class="w"> </span><span class="s2">&quot;Developer ID Application: Username (Team ID)&quot;</span><span class="w"> </span>prefix/Avogadro2.app
</pre></div>
</div>
</div>
<section id="building-installers">
<span id="id4"></span><h3>Building installers<a class="headerlink" href="#building-installers" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">avogadroapp</span></code> can build installers for Avogadro.</p>
<p>In order to do this, move into the cd into the appropriate subdirectory within the build tree and call <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">package</span></code>. So, to build the Avogadro 2 package:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>build/avogadroapp
make<span class="w"> </span>package
</pre></div>
</div>
<p>You may need to run cmake-gui, toggle advanced variables and enable/disable packages you are interested in.
They are prefixed by CPACK, and can be toggled before calling <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">package</span></code>.
A binary installer will be created in the build directory.</p>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="structure.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Project Structure</p>
      </div>
    </a>
    <a class="right-next"
       href="scripts/index.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Script Plugins</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#system">System</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dependencies-and-prerequisites">Dependencies and prerequisites</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#development-tools">Development tools</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#compiler-and-build-system">Compiler and build system</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#python-and-perl">Python and Perl</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#libraries">Libraries</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#qt">Qt</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#other-libraries">Other libraries</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#necessary">Necessary</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-the-source-code">Getting the source code</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#recursive-clone">Recursive clone</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#manual-clone">Manual clone</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#required-and-optional-submodules">Required and optional submodules</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#building-avogadro">Building Avogadro</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#configuring-cmake">Configuring CMake</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#build-types">Build types</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#avogadro-specific-cmake-flags">Avogadro-specific CMake flags</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#building-offline">Building offline</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#starting-the-build">Starting the build</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#layout-of-the-build-directory">Layout of the build directory</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#running-executables">Running executables</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#building-installers">Building installers</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  
  <div class="tocsection editthispage">
    <a href="https://github.com/avogadro/two.avogadro.cc/edit/main/source/develop/build.md">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit on GitHub
        
      
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">          <p>
            ©2025 The OpenChemistry / Avogadro Teams 
          </p>
          <p>Covered by the <a href="https://github.com/openchemistry/avogadrolibs/blob/master/CODE_OF_CONDUCT.md">Avogadro Code of Conduct</a>.
          </p></div>
      
        <div class="footer-item">        <p>
          <a href="/contrib/index.html">Contribute</a>
        </p></div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.0.2.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>