
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Building Source Code &#8212; Avogadro 1.99.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=ee427ece" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=c288451a"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'develop/build';</script>
    <link rel="canonical" href="https://two.avogadro.cc/develop/build.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Script Plugins" href="scripts/index.html" />
    <link rel="prev" title="Project Structure" href="structure.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/avogadro2.png" class="logo__image only-light" alt=""/>
    <script>document.write(`<img src="../_static/avogadro2.png" class="logo__image only-dark" alt=""/>`);</script>
  
  
    <p class="title logo__title">Avogadro</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../install/index.html">
    Install
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../docs/index.html">
    Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Develop
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../contrib/index.html">
    Contribute
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../teach/index.html">
    Teach
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://discuss.avogadro.cc">
    Discuss
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/openchemistry/avogadrolibs" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/AvogadroChem" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://fosstodon.org/@avogadrochem" title="Mastodon" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-mastodon fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Mastodon</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../install/index.html">
    Install
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../docs/index.html">
    Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Develop
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../contrib/index.html">
    Contribute
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../teach/index.html">
    Teach
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://discuss.avogadro.cc">
    Discuss
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/openchemistry/avogadrolibs" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/AvogadroChem" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://fosstodon.org/@avogadrochem" title="Mastodon" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-mastodon fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Mastodon</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">Develop</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="structure.html">Project Structure</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Building Source Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="scripts/index.html">Script Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="rpc.html">Avogadro Remote Procedure Call (RPC)</a></li>
<li class="toctree-l1"><a class="reference internal" href="classlist.html">API Documentation</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Develop</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Building Source Code</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="building-source-code">
<span id="develop-build"></span><h1>Building Source Code<a class="headerlink" href="#building-source-code" title="Link to this heading">#</a></h1>
<p>This guide has been updated to include detailed instructions for compiling Avogadro on each major operating system and has been verified to work for the 2.0 release on all of them.</p>
<p>However, Avogadro is a large project with many pieces, resulting in a somewhat complex build process that also varies from platform to platform.
If you encounter difficulties you are encouraged to reach out on the <a class="reference external" href="https://discuss.avogadro.cc">forum</a> for help.</p>
<p>The Avogadro desktop application brings together several of the Open Chemistry subprojects (see <a class="reference internal" href="structure.html#develop-structure"><span class="std std-ref">Project Structure</span></a>).
The easiest way to build Avogadro is to use the <a class="reference external" href="https://github.com/OpenChemistry/openchemistry">openchemistry
repository</a> as a basis, as it will automatically download and build many of the dependencies (including third-party ones) for you.</p>
<p>It is also entirely possible to build each project individually without using the “superbuild” approach, but you will need to ensure all dependencies are built and can be found by the project.</p>
<p>For simplicity, this guide will focus on the first approach.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Platform-specific instructions, guidance, and information is provided in expandable callouts marked by the respective icons <span class="fab fa-windows"></span> <span class="fab fa-apple"></span> <span class="fab fa-linux"></span>.</p>
</div>
<section id="system">
<h2>System<a class="headerlink" href="#system" title="Link to this heading">#</a></h2>
<p>Only 64-bit operated systems are supported.</p>
<p>The primary supported operating systems are those for which binaries are distributed:</p>
<ul class="simple">
<li><p>Windows 10+ (<code class="docutils literal notranslate"><span class="pre">x64</span></code> only)</p></li>
<li><p>macOS (Intel and Apple Silicon)</p></li>
<li><p>Linux (<code class="docutils literal notranslate"><span class="pre">x64</span></code> only)</p></li>
</ul>
<p>Others may work, but this guide will not cover them.</p>
<div class="dropdown admonition">
<p class="admonition-title">Windows on ARM <span class="fab fa-windows"></span></p>
<p>Windows on ARM will be fully supported by Qt from around Qt 6.8 onwards, so it is likely that Avogadro will likewise support ARM once the port to Qt6 is complete.</p>
</div>
</section>
<section id="dependencies-and-prerequisites">
<h2>Dependencies and prerequisites<a class="headerlink" href="#dependencies-and-prerequisites" title="Link to this heading">#</a></h2>
<div class="dropdown admonition">
<p class="admonition-title">Windows <span class="fab fa-windows"></span></p>
<p>All the software listed here can of course be obtained in the traditional way by downloading from the respective websites, which are generally linked, and running an installer.</p>
<p>Alternatively, much of it can these days be obtained from the Windows Package Manager using <a class="reference external" href="https://learn.microsoft.com/en-us/windows/package-manager/winget/"><code class="docutils literal notranslate"><span class="pre">winget</span></code></a>.</p>
<p>The third-party <a class="reference external" href="https://winget.run/">winget.run</a> can be a helpful site to see whether a package is available in this way.</p>
</div>
<div class="dropdown admonition">
<p class="admonition-title">macOS <span class="fab fa-apple"></span></p>
<p>The <a class="reference external" href="https://brew.sh/">Homebrew</a> package manager works well for getting development software on macOS.</p>
</div>
<div class="dropdown admonition">
<p class="admonition-title">Linux <span class="fab fa-linux"></span></p>
<p>On Linux, all of the necessary (non-Open-Chemistry) software is almost certainly available via your distribution’s package manager.</p>
<p>A notable exception to this is Open Babel, which as of the time of writing (September 2024) is generally only available from distro repos as version 3.3.1, whereas Avogadro requires a patched version incorporating many CJSON-related changes over the past few years.</p>
<p>The easiest thing is just to let the build process automatically download and compile Open Babel for you (the default behavior).
If you particularly wish to use Open Babel from your system, you will have to have compiled it from <a class="reference external" href="https://github.com/openbabel/openbabel">source</a> yourself.</p>
</div>
<section id="development-tools">
<h3>Development tools<a class="headerlink" href="#development-tools" title="Link to this heading">#</a></h3>
<p>The Open Chemistry project uses <a class="reference external" href="https://git-scm.com/">Git</a> for version control, and <a class="reference internal" href="#cmake.org"><span class="xref myst">CMake</span></a> to direct the build process, so the first step is to ensure that you have both of these installed and set up on your system.</p>
</section>
<section id="compiler">
<h3>Compiler<a class="headerlink" href="#compiler" title="Link to this heading">#</a></h3>
<p>Broadly, you will need a C/C++ compiler that supports C++17.</p>
<div class="dropdown admonition">
<p class="admonition-title">Windows <span class="fab fa-windows"></span></p>
<p>On Windows, <a class="reference external" href="https://visualstudio.microsoft.com/">Visual Studio</a> is best supported, and it includes the MSVC compiler.</p>
</div>
<div class="dropdown admonition">
<p class="admonition-title">macOS <span class="fab fa-apple"></span></p>
<p>We recommend to use <a class="reference external" href="https://clang.llvm.org/">Clang 17</a> on a Mac.</p>
</div>
<div class="dropdown admonition">
<p class="admonition-title">Linux <span class="fab fa-linux"></span></p>
<p>Both <code class="docutils literal notranslate"><span class="pre">gcc</span></code>/<code class="docutils literal notranslate"><span class="pre">g++</span></code> and <code class="docutils literal notranslate"><span class="pre">clang</span></code>/<code class="docutils literal notranslate"><span class="pre">clang++</span></code> generally work fine, as do both Unix Makefiles and Ninja for generating the Make files.</p>
<p>If in doubt, stick to the combination of <strong>gcc with Ninja</strong>; this is what the automatic preparation of Avogadro binaries with GitHub actions uses, so if it is working successfully there, it should also work for you.</p>
</div>
</section>
<section id="python-and-perl">
<h3>Python and Perl<a class="headerlink" href="#python-and-perl" title="Link to this heading">#</a></h3>
<p>To compile Avogadro you will need to have both Python and Perl on your system.</p>
<p>It is important that Python is in the PATH so that Avogadro can find it.</p>
<div class="dropdown admonition">
<p class="admonition-title">Windows <span class="fab fa-windows"></span></p>
<p>A Python interpreter can be downloaded and installed from <a class="reference external" href="https://www.python.org/downloads/windows/">python.org</a>.
The option to add to the PATH is offered at install time, so make sure to check this.</p>
<p>The best way to get Perl on Windows is the <a class="reference external" href="https://strawberryperl.com/">Strawberry Perl</a> distribution.</p>
</div>
</section>
<section id="libraries">
<h3>Libraries<a class="headerlink" href="#libraries" title="Link to this heading">#</a></h3>
<section id="qt">
<h4>Qt<a class="headerlink" href="#qt" title="Link to this heading">#</a></h4>
<p>Avogadro is built using the open-source <a class="reference external" href="https://www.qt.io/download-open-source">Qt framework</a>.</p>
<p>Avogadro is in the process of moving to Qt6, which will be hopefully complete by the release of Avogadro 2.0 – see <a class="reference external" href="https://discuss.avogadro.cc/t/qt6-tracking-thread/5592">the forum tracking thread</a> for progress.
For now though, you will probably need to obtain Qt5.</p>
<div class="dropdown admonition">
<p class="admonition-title">Windows <span class="fab fa-windows"></span></p>
<p>On Windows you should download and install Qt from the Qt website.</p>
<p>Be sure to make a note of the install directory of Qt (e.g. <code class="docutils literal notranslate"><span class="pre">C:/Qt/5.15.2/msvc2019_64/lib/cmake/Qt5</span></code>) as it will be of importance later.</p>
</div>
<div class="dropdown admonition">
<p class="admonition-title">Linux <span class="fab fa-linux"></span></p>
<p>Qt is widely used in the open-source community, including as the base for the KDE Plasma desktop environment, so it is generally either already installed (though not necessarily including the development libraries that you need) or easily available from package managers.</p>
<p>Qt is large, so on Linux distributions it is often broken up into its modules.
Unfortunately, the names of the packages for the modules varies from distro to distro, such that it is hard to say exactly which packages you should install.</p>
<p>You should however make sure the following Qt modules are installed:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">QtCore</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QtWidgets</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QtGui</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QtOpenGL</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QtConcurrent</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QtNetwork</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QtSvg</span></code></p></li>
</ul>
<p>If building with Qt6, you will also need:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">QtOpenGLWidgets</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QtCore5Compat</span></code></p></li>
</ul>
<p>There are often separate <code class="docutils literal notranslate"><span class="pre">-devel</span></code> versions of each module as well, in which case, you will also need those.</p>
</div>
<div class="dropdown admonition">
<p class="admonition-title">Debian/Ubuntu-based distributions <span class="fab fa-linux"></span></p>
<p>You can install prerequisites with the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>apt-get<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>cmake<span class="w"> </span>curl<span class="w"> </span>build-essential<span class="w"> </span>qtbase5-dev<span class="w"> </span>qtdeclarative5-dev<span class="w"> </span>zlib1g-dev<span class="w"> </span>libxml2-dev<span class="w"> </span>git<span class="w"> </span>libqt5svg5-dev<span class="w"> </span>libqt5gui5<span class="w"> </span>libqt5concurrent5<span class="w"> </span>rapidjson<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
</pre></div>
</div>
<p>If you need a newer cmake version (replace aarch64 with your architecture or go to <a class="reference external" href="https://github.com/Kitware/CMake/releases/latest/">CMake Releases</a>)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>apt-get<span class="w"> </span>purge<span class="w"> </span>cmake<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="w"> </span>curl<span class="w"> </span>-L<span class="w"> </span>-v<span class="w"> </span>-o<span class="w"> </span>/tmp/bin<span class="w"> </span>https://github.com/Kitware/CMake/releases/download/v3.26.5/cmake-3.26.5-linux-aarch64.sh<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="w"> </span>chmod<span class="w"> </span>+x<span class="w"> </span>/tmp/bin<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/usr<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="w"> </span>/tmp/bin
</pre></div>
</div>
</div>
<div class="dropdown admonition">
<p class="admonition-title">openSUSE Tumbleweed <span class="fab fa-linux"></span></p>
<p>Many of the following may already be installed on your system.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>zypper<span class="w"> </span>refresh
sudo<span class="w"> </span>zypper<span class="w"> </span>install<span class="w"> </span>libqt5-qtbase<span class="w"> </span>libqt5-qtbase-devel<span class="w"> </span>libqt5-qtbase-common-devel<span class="w"> </span>glew-devel<span class="w"> </span>libOpenGL<span class="w"> </span>Spglib<span class="w"> </span>libarchive<span class="w"> </span>libxml2<span class="w"> </span>glu<span class="w"> </span>readline<span class="w"> </span>xz<span class="w"> </span>libeigen3<span class="w"> </span>libboost
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">libqt5-qtbase*</span></code> patterns should include all the Qt dependencies you need, but it is worth checking that all the modules are installed still using:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>zypper<span class="w"> </span>search<span class="w"> </span>libQt5
</pre></div>
</div>
</div>
<div class="dropdown admonition">
<p class="admonition-title">Fedora <span class="fab fa-linux"></span></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>dnf<span class="w"> </span>update
sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>cmake<span class="w"> </span>gcc<span class="w"> </span>gcc-g++<span class="w"> </span>qt5-qtbase-devel<span class="w"> </span>zlib-devel<span class="w"> </span>libxml2-devel<span class="w"> </span>git<span class="w"> </span>curl<span class="w"> </span>qt5-qtsvg-devel<span class="w"> </span>kernel-devel<span class="w"> </span>glew-devel
</pre></div>
</div>
</div>
</section>
</section>
</section>
<section id="cloning-repositories">
<span id="id1"></span><h2>Cloning Repositories<a class="headerlink" href="#cloning-repositories" title="Link to this heading">#</a></h2>
<p>To clone the Open Chemistry repository that
contains the other projects as submodules,</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>--recursive<span class="w"> </span>https://github.com/OpenChemistry/openchemistry.git
</pre></div>
</div>
<p>Or if you have a GitHub account with SSH key (e.g., for contributing
changes):</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>--recursive<span class="w"> </span>git@github.com:OpenChemistry/openchemistry.git
</pre></div>
</div>
</section>
<section id="updating">
<h2>Updating<a class="headerlink" href="#updating" title="Link to this heading">#</a></h2>
<p>In order to update the repository from the openchemistry module you can
run,</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>pull
git<span class="w"> </span>submodule<span class="w"> </span>update<span class="w"> </span>--init
</pre></div>
</div>
</section>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading">#</a></h2>
<p>The Open Chemistry projects have a number of prerequisites, and these
vary by platform. On Windows Visual Studio 2017 is best supported. The
superbuild will attempt to build a number of dependencies, on Linux you
are likely best off installing these with your package manager, and on
macOS the homebrew package manager works well.</p>
<p>We should add a package listing for various Linux distributions, but as
a guide you will need:</p>
<ul class="simple">
<li><p>a C/C++ compiler that supports C++17</p></li>
<li><p>OpenGL</p></li>
<li><p>Qt 5.6+</p></li>
<li><p>CMake</p></li>
<li><p>Python</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
## Building

It is recommended that you create a build tree outside of the source
tree. Assuming you are in the directory where you cloned the repository
the following commands will create a build tree, configure it and build.

```shell
mkdir openchemistry-build
cd openchemistry-build
cmake ../openchemistry
cmake --build . --config Release
</pre></div>
</div>
<p>You may wish to run cmake-gui in the build directory once it has been
configured. You can build against system libraries to avoid building
them (examples include Boost, Eigen, etc), and turn testing on globally
(ENABLE_TESTS) if you would like to ensure all tests are configured and
built for sub-projects. The –config argument to cmake –build is only
used on the Windows platform with MSVC, and can be removed elsewhere.</p>
<section id="finding-qt-windows-generators">
<span id="id2"></span><h3>Finding Qt, Windows Generators<a class="headerlink" href="#finding-qt-windows-generators" title="Link to this heading">#</a></h3>
<p>We go to great care to use Qt5_DIR as the base for all Qt 5 modules, so
setting the correct Qt5_DIR should result in a valid tree, you can also
use CMAKE_PREFIX_PATH to point at the install prefix of Qt. When setting
Qt5_DIR for Windows, using Qt 5.10.1 as an example, you should set the
variable to ‘C:/Qt/Qt5.10.1/5.10.1/msvc2017_64/lib/cmake/Qt5’ (without
the quotes). As you upgrade, you can usually just replace the version
(that occurs twice), you must also be careful to match the CMake
generator to the compiler and architecture on Windows, I recommend
‘Visual Studio 15 2017 Win64’, we no longer build/test 32 bit binaries
on any platform.</p>
</section>
<section id="normal-development">
<span id="id3"></span><h3>Normal Development<a class="headerlink" href="#normal-development" title="Link to this heading">#</a></h3>
<p>You can also open the top-level CMakeLists.txt in Qt Creator, choose the
build location, have that configure and build and then open the
top-level CMakeLists.txt for each of the sub-projects. When setting the
build location choose the openchemistry-build/avogadrolibs for Avogadro,
openchemistry-build/molequeue for MoleQueue, etc. Once you have compiled
the top-level, for normal day-to-day development you are free to ignore
it and perform the majority of work in the project being developed.</p>
</section>
</section>
<section id="build-tree-layout">
<span id="id4"></span><h2>Build Tree Layout<a class="headerlink" href="#build-tree-layout" title="Link to this heading">#</a></h2>
<p>The build tree mirrors the source tree for most active projects. So
avogadrolibs is in the same relative path in the source and build trees.
For things such as Boost which are built from a source tarball they can
be found only in the build tree, and are under thirdparty/boost-prefix,
these projects are dependencies but are not expected to be edited in
place.</p>
<p>There is a prefix directory in the base of the build tree. This acts as
an install prefix for all projects, with the normal include, bin, share
and lib directories. This can be used to inject an additional prefix in
CMAKE_PREFIX_PATH to ensure projects build by the superbuild are found.
It keeps the sub-projects relatively simple as they either find stuff in
the prefix, or normal system paths.</p>
<section id="running-executables">
<span id="id5"></span><h3>Running Executables<a class="headerlink" href="#running-executables" title="Link to this heading">#</a></h3>
<p>It is recommended that you run the binaries from within the prefix
directory in the build tree. The top-level targets (avogadroapp,
molequeue, monogochem) all install to the prefix, if running make from
within the individual build trees run make install to ensure you are
using the latest version. On Linux and Windows running Avogadro 2 looks
like,</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>./openchemistry-build/prefix/bin/avogadro2
</pre></div>
</div>
<p>On Mac, it might be:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>open<span class="w"> </span>/Users/your-user/openchemistry-build/avogadroapp/bin/Avogadro2.app
</pre></div>
</div>
<p>Note that on Mac with Apple Silicon, you must sign all binaries before opening:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>codesign<span class="w"> </span>--force<span class="w"> </span>--deep<span class="w"> </span>-s<span class="w"> </span><span class="s2">&quot;Developer ID Application: Username (Team ID)&quot;</span><span class="w"> </span>prefix/Avogadro2.app
</pre></div>
</div>
</section>
<section id="building-packages">
<span id="id6"></span><h3>Building Packages<a class="headerlink" href="#building-packages" title="Link to this heading">#</a></h3>
<p>The molequeue and avogadroapps projects can build installers.
In order to do this you must cd into the appropriate subdirectory and
call make package. So to build the Avogadro 2 package,</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>avogadroapp
make<span class="w"> </span>package
</pre></div>
</div>
<p>You may need to run cmake-gui, toggle advanced variables and
enable/disable packages you are interested in. They are prefixed by
CPACK, and can be toggled before calling make package. A binary
installer will be created in the build directory.</p>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="structure.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Project Structure</p>
      </div>
    </a>
    <a class="right-next"
       href="scripts/index.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Script Plugins</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#system">System</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dependencies-and-prerequisites">Dependencies and prerequisites</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#development-tools">Development tools</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#compiler">Compiler</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#python-and-perl">Python and Perl</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#libraries">Libraries</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#qt">Qt</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cloning-repositories">Cloning Repositories</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#updating">Updating</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prerequisites">Prerequisites</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#finding-qt-windows-generators">Finding Qt, Windows Generators</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#normal-development">Normal Development</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#build-tree-layout">Build Tree Layout</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#running-executables">Running Executables</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#building-packages">Building Packages</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  
  <div class="tocsection editthispage">
    <a href="https://github.com/avogadro/two.avogadro.cc/edit/main/source/develop/build.md">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit on GitHub
        
      
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">          <p>
            ©2024 The OpenChemistry / Avogadro Teams 
          </p>
          <p>Covered by the <a href="https://github.com/openchemistry/avogadrolibs/blob/master/CODE_OF_CONDUCT.md">Avogadro Code of Conduct</a>.
          </p></div>
      
        <div class="footer-item">        <p>
          <a href="/contrib/index.html">Contribute</a>
        </p></div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>